<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>实验修改</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <script type="text/javascript">
        if(window.UEDITOR_HOME_URL=="/ueditor/"){
            window.UEDITOR_HOME_URL ="";
        }else{
            window.UEDITOR_HOME_URL = "/ueditor/";
        }
    </script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.all.min.js"> </script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/lang/zh-cn/zh-cn.js"> </script>
    <style type="text/css">
        div{
            /*width:100%;*/
        }
    </style>
</head>
<body>
<div ng-controller="updExpCtrl">
    <div id="updExpDiv" class="well with-header with-footer col-md-12 col-lg-12 col-xs-12" style="overflow-y:scroll;height:800px">
        <div class="header bordered-blueberry">
        实验修改
        </div>
  
            <!-- <div>
                <h1 style="font-size:15px">选择实验所属课程名称</h1>
                <select class="form-control" id="coursename" ng-model="expInfo.courseId" style="width:20%" ng-change="course_sel()">
                    <option ng-repeat="course in courses" value="{{course.courseId}}">{{course.courseName}}
                    </option>
                </select>
                <h1  style="font-size:15px">实验名称</h1>
                <select class="form-control" id="expname" ng-model="expInfo.expId" style="width:20%" ng-change="experience_sel()">
                    <option ng-repeat="exp in exps" value="{{exp.experienceId}}">{{exp.experienceName}}
                    </option>
                </select>
            </div> -->
            <!-- <h1>{{modeifyId}}</h1> -->
        <div ng-show="{{storage.courseNotebookFlag==1}}">
            <div>
                <h1>实验名称</h1>
                <textarea ng-model="expName">{{expName}}</textarea>
            </div>
            <div>

                <h1>实验目的</h1>
                <textarea ng-model="expObjective">{{expObjective}}</textarea>
                <!-- <script id="editor1" type="text/plain" style="width:100%;height:250px;"></script> -->
            </div>
             <div>
                <h1>实验环境</h1>
                <textarea ng-model="expEnvironment">{{expEnvironment}}</textarea>
                <!-- <script id="editor3" type="text/plain" style="width:100%;height:250px;"></script> -->
            </div>
            <div ng-if="1">
                <h1>实验原理</h1>
                <!-- <textarea ng-model="expPrinciple" style="width:100%;height:50px">
                </textarea> -->
                <script id="editor2" type="text/plain" style="height:250px"></script>
            </div>

            <div>
                <h1>实验步骤</h1>
                <script id="editor4" type="text/plain" style="height:250px"></script>
            </div>
            <div id="btns">
                <div><br>
                    <button style="font-size:15px;margin-top:20px;background-color:#37474f;color:white;padding:5px 20px;border:0px;border-radius:5px" ng-click="submitContent()">提交实验</button>
                </div>
            </div>
        </div>
        <!-- notebook类型的实验修改：质保罗实验名称和实验目的 -->
        <div ng-show="{{storage.courseNotebookFlag==0}}">
            <div>
                <h1>实验名称</h1>
                <textarea ng-model="expName">{{expName}}</textarea>
            </div>
            <div>
                <h1>实验目的</h1>
                <textarea ng-model="expObjective">{{expObjective}}</textarea>
            </div>
            <div id="btns">
                <div><br>
                    <button style="font-size:15px;margin-top:20px;background-color:#37474f;color:white;padding:5px 20px;border:0px;border-radius:5px" ng-click="submitContent()">提交实验</button>
                </div>
            </div>
        </div>
        <!-- 设置提醒提示框：课程信息填写不完全提示 -->
        <div class="modal hide" id="expModifyModal" tabindex="-1" role="dialog" aria-labelledby="MyModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header bordered">
                    <!-- 模态框取消按钮 -->
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()">
                            &times;
                        </button>
                        <h4 class="modal-title" id="">
                            实验修改提示
                        </h4>
                        <!-- /*<hr style="border-top:1px ridge #e75b8d;">*/ -->
                    </div>
                    <div class="modal-body">
                        <label>
                            <span class="text">实验信息填写不完全，请重新确认填写！</span>
                        </label>
                    </div>
                    <div class="modal-footer">
                        <button id="closeAlert" type="button" class="btn" data-dismiss="modal" ng-click="closeModal()">关 闭</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- 设置confirm确定与取消按钮提示框：是否确定提交实验 -->
        <div class="modal hide" id="confirmModifyExp" tabindex="-1" role="dialog" aria-labelledby="MyModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header bordered">
                    <!-- 模态框取消按钮 -->
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeConfirm()">
                            &times;
                        </button>
                        <h4 class="modal-title" id="">
                            实验修改
                        </h4>
                        
                    </div>
                    <div class="modal-body">
                        <label>
                            <span class="text">确定修改该实验？</span>
                        </label>
                    </div>
                    <div class="modal-footer">
                        <button id="confirmButton" type="button" class="btn" ng-click="confirmModifyExp()">确 定</button>
                        <button id="denyButton" type="button" class="btn" data-dismiss="modal" ng-click="closeConfirm()">取 消</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- 实验添加成功提示框设置 -->
        <div class="modal hide" id="modifyExpSuccess" tabindex="-1" role="dialog" aria-labelledby="MyModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header bordered">
                    <!-- 模态框取消按钮 -->
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()">
                            &times;
                        </button>
                        <h4 class="modal-title" id="">
                            实验修改
                        </h4>
                        <!-- /*<hr style="border-top:1px ridge #e75b8d;">*/ -->
                    </div>
                    <div class="modal-body">
                        <label>
                            <span class="text">实验修改成功！</span>
                        </label>
                    </div>
                    <div class="modal-footer">
                        <button id="closeAlert" type="button" class="btn" data-dismiss="modal" ng-click="closeModal()">关 闭</button>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">

            //实例化编辑器
            //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
            // var ue1 = UE.getEditor('editor1');
            var ue2 = UE.getEditor('editor2');
            // var ue3 = UE.getEditor('editor3');
            var ue4 = UE.getEditor('editor4');
            function setEnabled() {
                // UE.getEditor('editor1').setEnabled();
                UE.getEditor('editor2').setEnabled();
                // UE.getEditor('editor3').setEnabled();
                UE.getEditor('editor4').setEnabled();
                enableBtn();
            }
            function enableBtn() {
                var div = document.getElementById('btns');
                var btns = UE.dom.domUtils.getElementsByTagName(div, "button");
                for (var i = 0, btn; btn = btns[i++];) {
                    UE.dom.domUtils.removeAttributes(btn, ["disabled"]);
                }
            }
        </script>
    </div>

</div>
</body>
</html>