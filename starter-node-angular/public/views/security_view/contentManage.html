<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>添加课程内容</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <script type="text/javascript">
        if(window.UEDITOR_HOME_URL=="/ueditor/"){
            window.UEDITOR_HOME_URL ="";
        }else{
            window.UEDITOR_HOME_URL = "/ueditor/";
        }
    </script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.all.min.js"> </script>
    <script type="text/javascript" charset="utf-8" src="/ueditor/lang/zh-cn/zh-cn.js"> </script>
    <style type="text/css">
        div{
            /*width:100%;*/
        }
    </style>
</head>
<body>
<div ng-controller="contentManageCtrl">
    <div class="well with-header with-footer col-md-12 col-lg-12 col-xs-12" style="overflow-y:scroll;height:800px">
        <div class="header bordered-blueberry">
        添加实验
        </div>
        <div>
  
            <div>
                <!-- <h1 style="font-size:15px">选择实验所属课程名称</h1>
                <select class="form-control" id="expcoursename" ng-model="expInfo.expCourseId" style="width:20%" ng-change="course_sel()"> -->
                    <!-- <option>课程名称：</option> -->
                    <!-- <option ng-repeat="course in courses" value="{{course.courseId}}">{{course.courseName}}
                    </option>
                </select> -->
                <!-- <input type="text" class="form-control" placeholder="实验所属课程名称" id="expcoursename" ng-model="expInfo.expCourseName" style="width:20%"> -->
                <h1  style="font-size:15px">实验名称</h1>
                <input type="text" class="form-control" placeholder="实验名称"  id="expname" ng-model="expInfo.expName" style="width:20%;">
                <!-- <h1  style="font-size:15px">实验标签</h1>
                <input type="text" class="form-control" placeholder="实验标签"  id="explabel" ng-model="expInfo.expLabel" style="width:20%;"> -->

               <!-- <h1  style="font-size:15px">实验标签</h1>
                <input type="text" class="form-control" placeholder="实验标签"  id="explabel" ng-model="expInfo.expLabel" style="width:20%;">-->

            </div>

        </div>
        <!-- vnc实验添加 -->
        <div ng-show="{{chosingEnv}}" >
            <div>
                <h1 style="font-size:15px">实验目的</h1>
                <textarea ng-model="expObjective" style="width:100%;height:80px">
            </textarea>
                <!-- <script id="editor1" type="text/plain" style="width:100%;height:250px;"></script> -->
            </div>
            <div>
                <h1 style="font-size:15px">实验环境</h1>
                <textarea ng-model="expEnvironment" style="width:100%;height:80px">
            </textarea>
                <!-- <script id="editor3" type="text/plain" style="width:100%;height:250px;"></script> -->
            </div>
            <div>
                <h1 style="font-size:15px">实验原理</h1>
                <!-- <textarea ng-model="expPrinciple" style="width:100%;height:50px">
                </textarea> -->
                <script id="editor2" type="text/plain" style="width:100%;height:250px;"></script>
            </div>

            <div>
                <h1 style = "font-size:15px" > 实验步骤 </h1>
                 <script id = "editor4" type = "text/plain" style = "width:100%;height:250px;" ></script>
            </div>
            <div id="btns">
                <div><br>
                    <button style="font-size:15px;margin-top:20px;background-color:#575a5d;color:white;padding:2px 12px;border:0px;border-radius:8px"
                            ng-click="submitContent()">提交实验
                    </button>
                </div>
            </div>
        </div>

        <!-- notebook试验添加页面 -->
        <div ng-hide="{{chosingEnv}}">
            <div>
                <h1 style="font-size:15px">实验目的</h1>
                <textarea ng-model="expIntro" style="width:100%;height:80px"></textarea>
                <!-- <script id="editor1" type="text/plain" style="width:100%;height:250px;"></script> -->
            </div>
            <div>
                <h1 style="font-size:15px">实验指导书提交方式</h1>

                <div id ="selectMethod"style="margin-left: auto;">
                    <label class="radio"><input type="radio" name="addmd" value="0" ng-model="addMethod" ng-checked="true"/><span class="text">空白模板</span></label>
                    <label class="radio"><input type="radio" name="addmd" value="1" ng-model="addMethod" /><span class="text">文件上传</span></label>
                    <label class="radio"><input type="radio" name="addmd" value="2" ng-model="addMethod" /><span class="text">在线编辑</span></label>
                </div>
            </div>
            <div>
                <div id="btnsnb">
                    <div><br>
                        <button style="font-size:15px;margin-top:20px;background-color:#575a5d;color:white;border:0px;border-radius:8px;padding:2px 15px" ng-click="submitNBContent()">提交实验</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="FileUploadModal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="myModalLabel">实验指导书上传</h4>
                    </div>
                    <div class="modal-body">
                        <form id="uploadForm"  enctype="multipart/form-data" method="post" action="/api/uploadExp">
                            <input type="file" name="expFile"/>
                            <input type="hidden" name="expId" ng-model="expId" value="{{expId}}"/>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        <button type="button" class="btn btn-primary" ng-click="uploadExp()">上传</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- 设置提醒提示框：课程信息填写不完全提示 -->
        <div class="modal hide" id="expInputModal" tabindex="-1" role="dialog" aria-hidden="true" style="margin-top:90px">
            <div class="modal-dialog" style="width:300px">
                <div class="modal-content">
                    <div class="modal-header bordered" style="border-color:#469cdd;border-bottom-width: 2px">
                    <!-- 模态框取消按钮 -->
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()">
                            &times;
                        </button>
                        <h4 class="modal-title" id="" style="text-align: center;">
                            实验信息提示
                        </h4>
                        <!-- /*<hr style="border-top:1px ridge #e75b8d;">*/ -->
                    </div>
                    <div class="modal-body" style="text-align:center">
                        <label>
                            <span class="text">实验信息填写不完全，请重新确认填写！</span>
                        </label>
                    </div>
                    <div class="modal-footer" style="text-align:center">
                        <button type="button" class="btn" style="border:0px;border-radius:8px;background-color:#469cdd;padding:3px 15px;color:white" data-dismiss="modal" ng-click="closeModal()">关 闭</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- 设置confirm确定与取消按钮提示框：是否确定提交实验 -->
        <div class="modal hide" id="confirmAddExp" tabindex="-1" role="dialog" aria-hidden="true" style="margin-top:90px">
            <div class="modal-dialog" style="width:300px">
                <div class="modal-content">
                    <div class="modal-header bordered" style="border-color:#469cdd;border-bottom-width: 2px">
                    <!-- 模态框取消按钮 -->
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeConfirm()">
                            &times;
                        </button>
                        <h4 class="modal-title" id="" style="text-align: center;">
                            实验添加
                        </h4>
                        
                    </div>
                    <div class="modal-body" style="text-align:center">
                        <label>
                            <span class="text">确定添加新实验？</span>
                        </label>
                    </div>
                    <div class="modal-footer" style="text-align:center">
                        <button type="button" class="btn" style="border:0px;border-radius:8px;background-color:#469cdd;padding:3px 15px;color:white" ng-click="confirmAddExp()">确 定</button>
                        <button type="button" class="btn" style="border:0px;border-radius:8px;background-color:white;padding:3px 15px;" data-dismiss="modal" ng-click="closeConfirm()">取 消</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- 实验添加成功提示框设置 -->
        <div class="modal hide" id="addExpSuccess" tabindex="-1" role="dialog" aria-hidden="true" style="margin-top:90px">
            <div class="modal-dialog" style="width:300px">
                <div class="modal-content">
                    <div class="modal-header bordered" style="border-color:#469cdd;border-bottom-width: 2px">
                    <!-- 模态框取消按钮 -->
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()">
                            &times;
                        </button>
                        <h4 class="modal-title" id="" style="text-align: center;">
                            实验添加
                        </h4>
                        <!-- /*<hr style="border-top:1px ridge #e75b8d;">*/ -->
                    </div>
                    <div class="modal-body" style="text-align:center">
                        <label>
                            <span class="text">实验添加成功！</span>
                        </label>
                    </div>
                    <div class="modal-footer" style="text-align:center">
                        <button type="button" class="btn" style="border:0px;border-radius:8px;background-color:#469cdd;padding:3px 15px;color:white" data-dismiss="modal" ng-click="closeModal()">关 闭</button>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">

            //实例化编辑器
            //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
            // var ue1 = UE.getEditor('editor1');
            var ue2 = UE.getEditor('editor2');
            // var ue3 = UE.getEditor('editor3');
            var ue4 = UE.getEditor('editor4');
            function setEnabled() {
                // UE.getEditor('editor1').setEnabled();
                UE.getEditor('editor2').setEnabled();
                // UE.getEditor('editor3').setEnabled();
                UE.getEditor('editor4').setEnabled();
                enableBtn();
            }
            function enableBtn() {
                var div = document.getElementById('btns');
                var btns = UE.dom.domUtils.getElementsByTagName(div, "button");
                for (var i = 0, btn; btn = btns[i++];) {
                    UE.dom.domUtils.removeAttributes(btn, ["disabled"]);
                }
            }
        </script>
    </div>
    
</div>
</body>
</html>